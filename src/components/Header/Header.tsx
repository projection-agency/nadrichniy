"use client";
import { useEffect, useState } from "react";
import { usePathname } from "next/navigation";
import { useParams } from "next/navigation";
import s from "./Header.module.css";
import Container from "../Container/Container";
import Link from "next/link";

const navLinks = [
  { title: "Головна", link: "/" },
  { title: "Каталог", link: "/catalog" },
  { title: "Блог", link: "/blog" },
  { title: "Клієнтам", link: "/clients" },
  { title: "Контакти", link: "#" },
];

const Header = () => {
  const [isScrolled, setIsScrolled] = useState(false);
  const pathname = usePathname();
  const params = useParams();
  const isCatalogPage = pathname.includes("/catalog");

  useEffect(() => {
    const handleScroll = () => {
      if (window.scrollY > 50) {
        setIsScrolled(true);
      } else {
        setIsScrolled(false);
      }
    };

    window.addEventListener("scroll", handleScroll);
    return () => {
      window.removeEventListener("scroll", handleScroll);
    };
  }, []);

  return (
    <header
      className={`${s.header} ${params.slug && isCatalogPage ? s.dark : ""} ${
        isScrolled ? s.scrolled : ""
      }`}
    >
      <Container className={s.container}>
        <div className={s.topBlock}>
          <Link href="/">{mainLogo}</Link>
          <nav>
            <ul className={s.navList}>
              {navLinks.map((item, idx) => {
                return (
                  <li
                    className={`${pathname === item.link ? s.active : ""}`}
                    key={idx}
                  >
                    <Link href={item.link}>{item.title}</Link>
                  </li>
                );
              })}
            </ul>
          </nav>
        </div>
        <div className={s.bottomBlock}>
          <div className={s.numberAccordion}>
            {phoneIcon}{" "}
            <a href="" className={s.number}>
              <span>Контакти:</span>+38 (044) 333 85 98
            </a>
          </div>
          <a className={s.orderCallBtn} href="">
            Замовити дзвінок
          </a>
        </div>
      </Container>
    </header>
  );
};

export default Header;

const mainLogo = (
  <svg
    width="202"
    height="48"
    viewBox="0 0 202 48"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path d="M9.04297 0.949707H28.3584C30.6344 0.949707 32.5641 1.67334 34.1475 3.12061C35.7432 4.56787 36.5348 6.3182 36.5225 8.37158V10.0044H29.583V9.57764C29.583 8.72412 29.2676 8.01904 28.6367 7.4624C28.0182 6.85628 27.2451 6.57178 26.3174 6.60889H11.084C10.1934 6.59652 9.42025 6.88721 8.76465 7.48096C8.13379 8.02523 7.81836 8.72412 7.81836 9.57764V17.7417C7.81836 18.5581 8.13997 19.2632 8.7832 19.8569C9.42643 20.4136 10.1934 20.6981 11.084 20.7104H26.3174C27.2451 20.6733 28.0182 20.3827 28.6367 19.8384C29.2676 19.2446 29.583 18.5457 29.583 17.7417V17.3521H36.5225V18.9478C36.5348 21.0011 35.7432 22.7515 34.1475 24.1987C32.5641 25.646 30.6344 26.3696 28.3584 26.3696H9.04297C6.7793 26.3696 4.84961 25.646 3.25391 24.1987C1.67057 22.7515 0.878906 21.0011 0.878906 18.9478V8.37158C0.878906 6.3182 1.67676 4.56787 3.27246 3.12061C4.86816 1.67334 6.79167 0.949707 9.04297 0.949707Z" />
    <path d="M38.7409 0.949707H73.234V26.3696H66.2946V6.60889H45.6803V26.3696H38.7409V0.949707Z" />
    <path d="M75.4524 0.949707H82.3919V26.3696H75.4524V0.949707Z" />
    <path d="M88.8593 0.949707H119.103V26.3696H112.164V6.60889H95.7988V18.9478C95.7988 21.0011 95.0009 22.7515 93.4052 24.1987C91.8095 25.646 89.886 26.3696 87.6347 26.3696H84.5917V20.7104H85.5937C86.509 20.6733 87.2822 20.3827 87.913 19.8384C88.5439 19.2446 88.8593 18.5457 88.8593 17.7417V0.949707Z" />
    <path d="M121.303 0.949707H128.243V11.8599L145.183 0.949707H156.594L137.168 12.8804L158.004 26.3696H146.593L128.243 13.938V26.3696H121.303V0.949707Z" />
    <path d="M176.347 0.949707H183.249L199.392 26.3696H191.914L188.407 20.8032H171.207L167.663 26.3696H160.204L176.347 0.949707ZM179.817 7.2583L174.621 15.4224H184.975L179.817 7.2583Z" />
    <path d="M4.20117 32.3286H10.0723C11.1035 32.3286 11.9795 32.6597 12.7002 33.3218C13.4209 33.9722 13.7812 34.7661 13.7812 35.7036C13.7812 36.1958 13.6699 36.6616 13.4473 37.1011C13.2246 37.5405 12.917 37.9185 12.5244 38.2349C13.0576 38.5278 13.4824 38.9263 13.7988 39.4302C14.1152 39.9341 14.2734 40.4878 14.2734 41.0913C14.2734 41.9878 13.9336 42.7612 13.2539 43.4116C12.5742 44.0503 11.7539 44.3696 10.793 44.3696H3.48047C2.51953 44.3696 1.69922 44.0503 1.01953 43.4116C0.339844 42.7612 0 41.9878 0 41.0913H3.28711C3.52148 41.478 3.87891 41.6714 4.35938 41.6714H9.77344C10.125 41.6714 10.418 41.5601 10.6523 41.3374C10.8984 41.1089 11.0186 40.8452 11.0127 40.5464C11.0186 40.23 10.8984 39.9663 10.6523 39.7554C10.418 39.5386 10.125 39.4302 9.77344 39.4302H5.58105V37.1538H9.34277C9.66504 37.1362 9.94043 37.0337 10.1689 36.8462C10.3975 36.6353 10.5088 36.3862 10.5029 36.0991C10.5029 35.8003 10.3887 35.5483 10.1602 35.3433C9.9375 35.1382 9.66504 35.0356 9.34277 35.0356H4.84277C4.61426 35.0356 4.40039 35.0972 4.20117 35.2202C4.00781 35.3433 3.86719 35.5044 3.7793 35.7036H0.492188C0.492188 34.7661 0.855469 33.9692 1.58203 33.313C2.30859 32.645 3.18164 32.3169 4.20117 32.3286Z" />
    <path d="M22.962 32.3286H26.2315L33.878 44.3696H30.336L28.6748 41.7329H20.5274L18.8487 44.3696H15.3155L22.962 32.3286ZM24.6055 35.3169L22.1446 39.1841H27.0489L24.6055 35.3169Z" />
    <path d="M34.92 32.3286H49.8087V35.0093H38.2071V36.354H46.9434C47.752 36.354 48.4932 36.5327 49.1671 36.8901C49.8526 37.2476 50.3858 37.7339 50.7667 38.3491C51.1593 38.9644 51.3555 39.6353 51.3555 40.3618C51.3555 41.0884 51.1593 41.7593 50.7667 42.3745C50.38 42.9897 49.8438 43.4761 49.1583 43.8335C48.4903 44.1909 47.752 44.3696 46.9434 44.3696H34.92V32.3286ZM38.2071 39.0083V41.7153H46.627C47.0606 41.7153 47.418 41.5894 47.6993 41.3374C47.9805 41.0854 48.1182 40.7603 48.1124 40.3618C48.1124 39.9575 47.9718 39.6323 47.6905 39.3862C47.4268 39.1343 47.0723 39.0083 46.627 39.0083H38.2071Z" />
    <path d="M52.3976 32.3286H56.6954L61.7931 37.8657L66.9083 32.3286H71.2062L60.088 44.3696H55.7989L59.6573 40.1948L52.3976 32.3286Z" />
    <path d="M75.9836 32.3286H88.4992V41.689H90.1427V47.0503H86.8556V44.3696H75.5353V47.0503H72.2482V41.689H73.8918L75.9836 32.3286ZM78.7433 35.0093L77.2492 41.689H85.2121V35.0093H78.7433Z" />
    <path d="M95.052 32.3286H104.474C105.546 32.3286 106.46 32.6714 107.216 33.3569C107.966 34.0425 108.341 34.8716 108.341 35.8442V40.854C108.341 41.8267 107.963 42.6558 107.207 43.3413C106.451 44.0269 105.54 44.3696 104.474 44.3696H95.052C93.9797 44.3696 93.0656 44.0269 92.3098 43.3413C91.5598 42.6558 91.1848 41.8267 91.1848 40.854V35.8442C91.1848 34.8716 91.5627 34.0425 92.3186 33.3569C93.0744 32.6714 93.9855 32.3286 95.052 32.3286ZM96.0188 35.0093C95.5969 35.0034 95.2307 35.1411 94.9201 35.4224C94.6213 35.6802 94.4719 36.0112 94.4719 36.4155V40.2827C94.4719 40.6694 94.6242 41.0034 94.9289 41.2847C95.2336 41.5483 95.5969 41.6831 96.0188 41.689H103.507C103.941 41.6714 104.307 41.5337 104.606 41.2759C104.904 40.9946 105.054 40.6636 105.054 40.2827V36.4155C105.054 36.0112 104.902 35.6772 104.597 35.4136C104.304 35.1265 103.941 34.9917 103.507 35.0093H96.0188Z" />
    <path d="M109.383 32.3286H121.292C122.294 32.3286 123.15 32.6509 123.859 33.2954C124.579 33.9399 124.931 34.7163 124.913 35.6245C124.913 36.0933 124.808 36.5386 124.597 36.9604C124.392 37.3765 124.105 37.7368 123.736 38.0415C124.322 38.3345 124.79 38.7446 125.142 39.272C125.493 39.7993 125.669 40.3765 125.669 41.0034C125.669 41.9351 125.309 42.7319 124.588 43.394C123.873 44.0444 123 44.3696 121.969 44.3696H109.383V32.3286ZM112.67 34.8862V37.2329H120.229C120.58 37.2329 120.882 37.1187 121.134 36.8901C121.398 36.6616 121.521 36.3862 121.503 36.064C121.521 35.73 121.395 35.4517 121.125 35.229C120.879 35.0005 120.58 34.8862 120.229 34.8862H112.67ZM112.67 39.4741V41.8208H121.046C121.404 41.8208 121.705 41.7065 121.951 41.478C122.198 41.2495 122.321 40.9712 122.321 40.6431C122.321 40.3149 122.198 40.0366 121.951 39.8081C121.705 39.5796 121.404 39.4683 121.046 39.4741H112.67Z" />
    <path d="M126.72 32.3286H130.007V36.8374H139.737V32.3286H143.024V44.3696H139.737V39.5181H130.007V44.3696H126.72V32.3286Z" />
    <path d="M144.075 44.3696V32.3286H147.362V40.7749L157.777 32.3286H161.073V44.3696H157.777V35.9146L147.362 44.3696H144.075Z" />
    <path d="M162.115 32.3286H165.402V37.4966L173.426 32.3286H178.831L169.629 37.98L179.499 44.3696H174.094L165.402 38.481V44.3696H162.115V32.3286Z" />
    <path d="M180.541 32.3286H183.829V44.3696H180.541V32.3286Z" />
    <path d="M184.871 32.3286H196.78C197.782 32.3286 198.637 32.6509 199.346 33.2954C200.067 33.9399 200.418 34.7163 200.401 35.6245C200.401 36.0933 200.295 36.5386 200.084 36.9604C199.879 37.3765 199.592 37.7368 199.223 38.0415C199.809 38.3345 200.278 38.7446 200.629 39.272C200.981 39.7993 201.157 40.3765 201.157 41.0034C201.157 41.9351 200.796 42.7319 200.076 43.394C199.361 44.0444 198.488 44.3696 197.456 44.3696H184.871V32.3286ZM188.158 34.8862V37.2329H195.716C196.068 37.2329 196.37 37.1187 196.622 36.8901C196.885 36.6616 197.008 36.3862 196.991 36.064C197.008 35.73 196.882 35.4517 196.613 35.229C196.367 35.0005 196.068 34.8862 195.716 34.8862H188.158ZM188.158 39.4741V41.8208H196.534C196.891 41.8208 197.193 41.7065 197.439 41.478C197.685 41.2495 197.808 40.9712 197.808 40.6431C197.808 40.3149 197.685 40.0366 197.439 39.8081C197.193 39.5796 196.891 39.4683 196.534 39.4741H188.158Z" />
  </svg>
);

const phoneIcon = (
  <svg
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path d="M15.9727 24C15.2009 23.9149 14.4402 23.758 13.7018 23.5315C12.2559 23.0611 10.9004 22.3769 9.68688 21.5052C7.91605 20.2464 6.30768 18.7999 4.89407 17.1949C3.55429 15.7355 2.40065 14.1358 1.45631 12.4279C0.73088 11.1269 0.263352 9.71433 0.0762179 8.25815C-0.0958091 7.09355 0.0242983 5.9076 0.4271 4.79374C0.829902 3.67988 1.50435 2.66858 2.39731 1.83962C2.9729 1.31828 3.58487 0.833103 4.22914 0.387254C4.52995 0.137799 4.91833 0 5.32069 0C5.72304 0 6.11142 0.137799 6.41223 0.387254C6.80647 0.665586 7.14969 1.00179 7.42851 1.3828C8.07077 2.20971 8.64134 3.08317 9.13482 3.99478C9.36742 4.41938 9.51621 4.87959 9.574 5.35342C9.61603 5.69735 9.56968 6.0457 9.43876 6.36956C9.30785 6.69342 9.0961 6.98351 8.82116 7.21577C8.36443 7.64955 7.86449 8.04174 7.32811 8.38704C6.84946 8.64508 6.49767 9.06739 6.34768 9.56403C6.19769 10.0607 6.26141 10.5923 6.52519 11.0458C6.92369 11.9891 7.48757 12.8639 8.19383 13.6343C9.1005 14.748 10.1356 15.7653 11.2803 16.6679C11.8613 17.1499 12.552 17.5022 13.3003 17.6986C13.6266 17.781 13.9708 17.7788 14.2958 17.6921C14.6208 17.6054 14.9143 17.4376 15.1447 17.2067C15.5713 16.7967 16.0104 16.4102 16.4746 16.0354C16.9269 15.6135 17.5201 15.349 18.1558 15.2858C18.685 15.273 19.2085 15.3901 19.674 15.6255C20.3576 15.97 20.9938 16.3909 21.5685 16.8787C22.2906 17.4104 22.9471 18.0153 23.5258 18.6825C23.6961 18.8523 23.8256 19.0539 23.906 19.274C23.9864 19.4942 24.0158 19.7278 23.992 19.9593C23.9683 20.1908 23.8921 20.415 23.7684 20.6169C23.6448 20.8188 23.4765 20.9939 23.2749 21.1304C22.5375 21.8229 21.7261 22.4429 20.8534 22.981C19.9007 23.5031 18.8402 23.8305 17.7418 23.9415H17.6289L15.9727 24Z" />
  </svg>
);
